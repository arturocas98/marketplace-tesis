<!--=====================================
                Nav Account
                ======================================-->

<div *ngIf="preload" class="ps-section__content">

    <ul class="ps-section__links">
        <li *ngIf="!es_vendedor"><a href="cuenta-usuario/cuenta">Mi lista de deseos</a></li>
        <li *ngIf="!es_vendedor"><a href="cuenta-usuario/cuenta/mis-compras">Mis compras</a></li>
        <li class="active"><a href="cuenta-usuario/cuenta/mi-tienda">Mi Tiendas</a></li>
        <!-- <li class="active"  *ngIf="es_vendedor" ><a href="cuenta-usuario/cuenta/mi-tienda">Mi Tienda</a></li> -->
        <li><a href="cuenta-usuario/cuenta/mis-ventas">Mis ventas</a></li>
    </ul>

    <!--=====================================
                    My Store
                    ======================================-->
    <div class="ps-vendor-store">

        <div class="container">

            <div class="ps-section__container">

                <!--=====================================
                                Vendor Profile
                                ======================================-->

                <div class="ps-section__left">

                    <div class="ps-block--vendor">

                        <div class="ps-block__thumbnail">

                            <img src="{{path}}img/stores/{{store[0].url}}/{{store[0].logo}}" alt="{{store[0].tienda}}">

                        </div>

                        <div class="ps-block__container">

                            <div class="ps-block__header">

                                <h4>{{store[0].tienda}}</h4>

                                <div class="br-wrapper br-theme-fontawesome-stars">



                                </div>

                                <p><strong><span class="porcentaje">0</span>% Positivo</strong> (<span
                                        class="globalRating">0</span> calificaciones)</p>

                            </div><span class="ps-block__divider"></span>

                            <div class="ps-block__content">

                                <p>{{store[0].acerca_de}}</p>

                                <span class="ps-block__divider"></span>

                                <p><strong>Dirección</strong> {{store[0].direccion}}</p>

                                <figure>

                                    <figcaption>Redes sociales</figcaption>

                                    <ul class="ps-list--social-color">

                                        <li *ngFor="let social of store[0].newSocial">
                                            <a class="{{social}}" target="_blank" href="{{store[0].social[social]}}">
                                                <i class="fab fa-{{social}}"></i></a>
                                        </li>



                                    </ul>

                                </figure>

                            </div>

                            <div class="ps-block__footer">

                                <p>Teléfono<strong><small>{{store[0].telefono}}</small></strong></p>

                                <p>Correo
                                    <strong><small>{{store[0].email}}</small></strong>
                                </p>

                                <a class="ps-btn ps-btn--fullwidth" href="#editStore" data-toggle="modal">Editar</a>

                            </div>

                        </div>

                    </div>

                </div><!-- End Vendor Profile -->

                <!--=====================================
                                Products
                                ======================================-->

                <div class="ps-section__right">


                    <div class="d-flex justify-content-between">

                        <div>
                            <button class="btn btn-lg btn-warning my-3"(click)="addProduct()">Nuevo
                                producto</button>
                        </div>

                        <div>
                            <ul class="nav nav-tabs">

                                <!-- <li class="nav-item">
                                    <a class="nav-link" href="#">About</a>
                                </li> -->

                                <li class="nav-item">
                                    <a class="nav-link" href="cuenta-usuario/cuenta/mis-ordenes">Ordenes</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="cuenta-usuario/cuenta/disputas">Disputas</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="cuenta-usuario/cuenta/mensajes">Mensajes</a>
                                </li>

                            </ul>

                        </div>

                    </div>

                    <table class="table dt-responsive" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                        width="100%" style="opacity: 0;">

                        <thead>

                            <tr>

                                <th>#</th>

                                <th>Feedback</th>

                                <th>Imagen de portada</th>

                                <th>Producto</th>

                                <th>Categoría</th>

                                <th>Subcategoría</th>

                                <th>Precio</th>

                                <th>Stock</th>

                                <th>Tiempo de entrega</th>

                                <th>Oferta</th>

                                <th>Fin de la oferta</th>

                                <th>Resumen</th>

                                <th>Descripción</th>

                                <th>Galería</th>

                                <th>Banner por defecto</th>

                                <th>Slider horizontal</th>

                                <th>Reviews</th>

                                <!-- <th>Actions</th> -->

                            </tr>

                        </thead>

                        <tbody>

                            <tr *ngFor="let product of products;let i=index;let lastIndex=last;">

                                <td>{{i+1}}</td>

                                <td>
                                    <h4>
                                        <span *ngIf="product.feedback.type == 'approved'" data-toggle="tooltip"
                                            title="{{product.feedback.comment}}" class="badge badge-success">
                                            <a routerLink="/producto/{{product.url}}">Aprobado</a>
                                        </span>

                                        <span *ngIf="product.feedback.type == 'review'" data-toggle="tooltip"
                                            title="{{product.feedback.comment}}" class="badge badge-warning">En
                                            revisión</span>
                                    </h4>

                                    <!--=====================================
                                    Acciones
                                    ======================================-->
                                    <div class="btn-group">

                                        <button type="button" class="btn btn-warning rounded-circle mr-2"
                                            (click)="editProduct(idProducts[i])">

                                            <i class="fas fa-pencil-alt"></i>

                                        </button>

                                        <button type="button" class="btn btn-danger rounded-circle"
                                            mwlConfirmationPopover [popoverMessage]="popoverMessage" placement="left"
                                            (confirm)="deleteProduct(idProducts[i], products, i)">

                                            <i class="fas fa-trash"></i>

                                        </button>

                                    </div>


                                </td>

                                <td>
                                    <img src="{{path}}img/products/categorias/{{product.categoria}}/{{product.imagen}}"
                                        alt="">
                                </td>

                                <td>{{product.nombre}}</td>

                                <td>{{product.categoria}}</td>

                                <td>{{product.subcategoria}}</td>

                                <td>{{product.precio}}</td>

                                <td>
                                    <span *ngIf="product.stock >= 50"
                                        class="badge badge-success p-2">{{product.stock}}</span>
                                    <span *ngIf="product.stock < 50"
                                        class="badge badge-danger p-2">{{product.stock}}</span>
                                </td>

                                <td>{{product.tiempo_entrega}} días</td>

                                <td>
                                    <div *ngIf="product.oferta.length > 0">
                                        {{product.oferta[0]}}:
                                        <span *ngIf="product.oferta[0] == 'Disccount'">{{product.oferta[1]}}%</span>
                                        <span *ngIf="product.oferta[0] == 'Fixed'">${{product.oferta[1]}}</span>
                                    </div>
                                </td>

                                <td>
                                    <div *ngIf="product.oferta.length > 0">
                                        {{product.oferta[2] | date}}
                                    </div>
                                </td>

                                <td>

                                    <div>

                                        <ul class="list-group p-3">

                                            <li *ngFor="let sum of product.resumen">
                                                {{sum}}
                                            </li>

                                        </ul>

                                    </div>

                                </td>


                                <td [innerHTML]="product.descripcion"></td>

                                <td>
                                    <div class="row">

                                        <figure *ngFor="let pic of product.galeria" class="col-3">
                                            <img
                                                src="{{path}}img/products/categorias/{{product.categoria}}/gallery/{{pic}}">
                                        </figure>

                                    </div>
                                </td>


                                <td>
                                    <img src="{{path}}img/products/categorias/{{product.categoria}}/default/{{product.default_banner}}"
                                        alt="" class="img-fluid">
                                </td>

                                <td>
                                    <div class="py-3">

                                        <p><strong>H4 tag:</strong> {{product.horizontal_slider["H4 tag"]}}</p>
                                        <p><strong>H3-1 tag:</strong> {{product.horizontal_slider["H3-1 tag"]}}</p>
                                        <p><strong>H3-2 tag:</strong> {{product.horizontal_slider["H3-2 tag"]}}</p>
                                        <p><strong>H3-3 tag:</strong> {{product.horizontal_slider["H3-3 tag"]}}</p>
                                        <p><strong>H3-4s tag:</strong> {{product.horizontal_slider["H3-4s tag"]}}</p>

                                        <p><strong>Button tag:</strong> {{product.horizontal_slider["Button tag"]}}</p>
                                        <p><strong>IMG tag:</strong></p>

                                        <img src="{{path}}img/products/categorias/{{product.categoria}}/horizontal/{{product.horizontal_slider['IMG tag']}}"
                                            class="img-fluid">

                                    </div>
                                </td>

                                <!--=====================================
                                Reseñas
                                ======================================-->

                                <td>
                                    <div class="br-wrapper br-theme-fontawesome-stars">

                                        <select class="ps-rating" data-read-only="true">

                                            <option
                                                *ngFor="let review of product.reviews; let i = index; let lastIndex = last"
                                                [value]="review">

                                                {{i+1}}

                                                {{lastIndex ? callbackReview() : ""}}

                                            </option>

                                        </select>

                                    </div>

                                </td>


                                {{lastIndex?callback(i,totalReviews):''}}
                            </tr>


                        </tbody>

                    </table>

                    <div class="d-flex justify-content-center preloadTable">
                        <div class="spinner-border text-muted my-3"></div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <!--=====================================
    Modal para editar la tienda
    ======================================-->
    <div class="modal" id="editStore">

        <div class="modal-dialog modal-lg">

            <div class="modal-content">

                <form (ngSubmit)="onSubmitStore(f)" #f="ngForm">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title text-center">Editar tienda</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body p-5 text-left">

                        <label class="text-danger"><sup>*</sup>Requerido</label>

                        <!--=====================================
                        Nombre de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Nombre de la tienda</label>

                            <div class="form-group__content">

                                <input type="text" class="form-control" name="storeName" [(ngModel)]="storeModel.tienda"
                                    readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storeName'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Url de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>URL de la tienda</label>

                            <div class="form-group__content">

                                <input type="text" class="form-control" name="storeUrl" [(ngModel)]="storeModel.url"
                                    readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storeUrl'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Información de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Información de la tienda<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <textarea class="form-control" rows="7"
                                    placeholder="Notes about your store in maximum 1000 characters, ex: We are a store specialized in technology..."
                                    name="storeAbout"
                                    pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,1000}"
                                    [(ngModel)]="storeModel.acerca_de" (change)="validate(about)" #about
                                    required></textarea>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storeAbout'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Email de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Correo<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="email" class="form-control" name="storeEmail"
                                    [(ngModel)]="storeModel.email" email required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storeEmail'].errors" class="text-danger">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>


                        <!--=====================================
                        Teléfono de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Teléfono<sup class="text-danger">*</sup></label>

                            <div class="form-group__content input-group">



                                <input type="text" class="form-control" name="storePhone" pattern="[-\\0-9 ]{1,}"
                                    [(ngModel)]="storeModel.telefono" (change)="validate(phone)" #phone required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storePhone'].errors" class="text-danger">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Dirección de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Dirección<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="text" class="form-control" name="storeAddress"
                                    pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,1000}"
                                    [(ngModel)]="storeModel.direccion" (change)="validate(address)" #address required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storeAddress'].errors" class="text-danger">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                            Precio de envio
                            ======================================-->

                        <div class="form-group">

                            <label>Precio de envio<sup class="text-danger">*</sup></label>

                            <div class="form-group__content input-group">



                                <input type="text" class="form-control" name="storePrecioEnvio" pattern="[-\\0-9 ]{1,}"
                                    [(ngModel)]="storeModel.precio_envio" (change)="validate(precio_envio)" #precio_envio required>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['storePrecioEnvio'].errors" class="text-danger">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Logo de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Logo<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="storeLogo">

                                    <img src="{{path}}/img/stores/{{storeModel.url}}/{{storeModel.logo}}"
                                        class="img-fluid changeLogo" style="width:150px">

                                </label>

                                <div class="custom-file">

                                    <input type="file" class="custom-file-input" id="storeLogo" accept="image/*"
                                        maxSize="2000000" (change)="validateImage($event, 'changeLogo')" required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="storeLogo">Seleccionar archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Portada de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Portada<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="storeCover">

                                    <img src="{{path}}/img/stores/{{storeModel.url}}/{{storeModel.cover}}"
                                        class="img-fluid changeCover">

                                </label>

                                <div class="custom-file">

                                    <input type="file" class="custom-file-input" id="storeCover" accept="image/*"
                                        maxSize="2000000" (change)="validateImage($event, 'changeCover')" required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="storeCover">Seleccionar archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Redes sociales de la tienda
                        ======================================-->

                        <div class="form-group">

                            <label>Redes sociales</label>

                            <!--=====================================
                            Facebook
                            ======================================-->

                            <div class="form-group__content input-group mb-5">

                                <div class="input-group-append">
                                    <span class="input-group-text">https://facebook.com</span>
                                </div>

                                <input type="text" class="form-control" name="facebook" social="socialNetwork"
                                    pattern="[-\\_\\.\\0-9a-zA-Z]{1,}" [(ngModel)]="social['facebook']"
                                    (change)="validate(facebook)" #facebook>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['facebook'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                            <!--=====================================
                            instagram
                            ======================================-->

                            <div class="form-group__content input-group mb-5">

                                <div class="input-group-append">
                                    <span class="input-group-text">https://instagram.com</span>
                                </div>

                                <input type="text" class="form-control" name="instagram" social="socialNetwork"
                                    pattern="[-\\_\\.\\0-9a-zA-Z]{1,}" [(ngModel)]="social['instagram']"
                                    (change)="validate(instagram)" #instagram>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['instagram'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                            <!--=====================================
                            twitter
                            ======================================-->

                            <div class="form-group__content input-group mb-5">

                                <div class="input-group-append">
                                    <span class="input-group-text">https://twitter.com</span>
                                </div>

                                <input type="text" class="form-control" name="twitter" social="socialNetwork"
                                    pattern="[-\\_\\.\\0-9a-zA-Z]{1,}" [(ngModel)]="social['twitter']"
                                    (change)="validate(twitter)" #twitter>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['twitter'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                            <!--=====================================
                            linkedin
                            ======================================-->

                            <div class="form-group__content input-group mb-5">

                                <div class="input-group-append">
                                    <span class="input-group-text">https://linkedin.com</span>
                                </div>

                                <input type="text" class="form-control" name="linkedin" social="socialNetwork"
                                    pattern="[-\\_\\.\\0-9a-zA-Z]{1,}" [(ngModel)]="social['linkedin']"
                                    (change)="validate(linkedin)" #linkedin>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['linkedin'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                            <!--=====================================
                            youtube
                            ======================================-->

                            <div class="form-group__content input-group mb-5">

                                <div class="input-group-append">
                                    <span class="input-group-text">https://youtube.com</span>
                                </div>

                                <input type="text" class="form-control" name="youtube" social="socialNetwork"
                                    pattern="[-\\_\\.\\0-9a-zA-Z]{1,}" [(ngModel)]="social['youtube']"
                                    (change)="validate(youtube)" #youtube>

                                <div class="valid-feedback">Valido</div>
                                <div *ngIf="f.submitted && f.controls['youtube'].errors" class="invalid-feedback">Por
                                    favor rellene este campo</div>

                            </div>

                        </div>

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">

                        <div class="form-group submtit">

                            <button class="ps-btn ps-btn--fullwidth">Guardar</button>

                        </div>

                    </div>

                </form>

            </div>

        </div>

    </div>


    <!--=====================================
    Modal formulario de producto
    ======================================-->

    <!-- The Modal -->
    <div class="modal" id="formProduct">

        <div class="modal-dialog modal-lg">

            <div class="modal-content">

                <form (ngSubmit)="onSubmitProduct(p)" #p="ngForm">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title text-center">Formulario de producto</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body p-5 text-left">

                        <!--=====================================
                        Nombre del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Nombre<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="text" class="form-control formProduct" name="productName"
                                    pattern="[A-Za-z0-9ñÑáéíóúÁÉÍÓÚ ]{1,}" [(ngModel)]="productModel.nombre"
                                    (change)="validate(productName)" #productName required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Url del producto
                        ======================================-->

                        <div class="form-group">

                            <label>URL del producto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="text" class="form-control formProduct" name="productUrl"
                                    [(ngModel)]="productModel.url" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Categoría del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Categoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <select *ngIf="!editProductAction" class="form-control formProduct"
                                    name="productCategory" [(ngModel)]="productModel.categoria"
                                    (change)="changeCategory(inputCategory)" #inputCategory required>

                                    <option *ngFor="let category of categories"
                                        [value]="category.nombre+'_'+category.url">{{category.nombre}}</option>

                                </select>

                                <input *ngIf="editProductAction" type="text" class="form-control formProduct"
                                    name="productCategory" [(ngModel)]="productModel.categoria" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        SubCategoría del producto
                        ======================================-->

                        <div *ngIf="subcategories.length > 0 && !editProductAction" class="form-group">

                            <label>Subcategoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <select class="form-control formProduct" name="productSubCategory"
                                    [(ngModel)]="productModel.subcategoria" required>

                                    <option *ngFor="let subcategory of subcategories"
                                        [value]="subcategory.url+'_'+subcategory.grupo">{{subcategory.nombre}}
                                    </option>

                                </select>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <div *ngIf="editProductAction" class="form-group">

                            <label>Subcategoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input *ngIf="editProductAction" type="text" class="form-control formProduct"
                                    name="productSubCategory" [(ngModel)]="productModel.subcategoria" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Descripción del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Descripción<sup class="text-danger">*</sup></label>

                            <textarea class="formProduct" name="productDescription"
                                [(ngModel)]="productModel.descripcion" [ngxSummernote]="config" required></textarea>

                            <div class="valid-feedback">Valido</div>
                            <div class="invalid-feedback">Por favor rellene este campo</div>

                        </div>

                        <!--=====================================
                        Resumen del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Resumen<sup class="text-danger">*</sup> Ex: La mejor fruta saludable para su
                                organismo</label>

                            <div *ngFor="let inputSummary of summaryGroup; let i = index"
                                class="form-group__content input-group mb-3">

                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <button type="button" class="btn btn-danger"
                                            (click)="removeInput(i,'summary')">&times;</button>
                                    </span>
                                </div>

                                <input class="form-control formProduct" type="text" name="input_{{i}}"
                                    [(ngModel)]="inputSummary.input" required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                            <button type="button" class="btn btn-primary mb-2" (click)="addInput('summary')">Añadir
                                resumen</button>

                        </div>

                        <!--=====================================
                        Palabras claves del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Etiquetas<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <tag-input class="form-control formProduct" type="text" name="productTags"
                                    [(ngModel)]="tags" [maxItems]='5'></tag-input>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Imagen del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Imagen del producto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="productImage">

                                    <img *ngIf="!editProductAction" src="{{productModel.imagen}}"
                                        class="img-fluid changeImage">

                                    <img *ngIf="editProductAction"
                                        src="{{path}}img/products/categorias/{{productModel.categoria}}/{{productModel.imagen}}"
                                        class="img-fluid changeImage">

                                </label>

                                <div class="custom-file">

                                    <input *ngIf="!editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productImage" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event, 'changeImage')" required>

                                    <input *ngIf="editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productImage" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event, 'changeImage')">


                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="productImage">Seleccionar archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Galería del Producto
                        ======================================-->

                        <label>Galería<sup class="text-danger">*</sup></label>

                        <!--=====================================
                        Edición de la Galería del Producto
                        ======================================-->

                        <div *ngIf="editProductAction" class="row">

                            <figure *ngFor="let pic of editGallery" class="col-2 text-center pb-3">

                                <img src="{{path}}/img/products/categorias/{{productModel.categoria}}/gallery/{{pic}}">

                                <button type="button" (click)="removeGallery(pic)"
                                    class="btn btn-danger btn-sm removeGallery">Eliminar</button>

                            </figure>
                        </div>

                        <div class="custom-dropzone mb-5" ngx-dropzone [accept]="'image/*'" (change)="onSelect($event)">

                            <ngx-dropzone-label>

                                <div>
                                    <h2 class="text-muted">Suelta tus archivos aquí, tamaño 1000px * 1000px</h2>
                                </div>

                            </ngx-dropzone-label>

                            <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of gallery"
                                [file]="f" [removable]="true" (removed)="onRemove(f)">

                                <ngx-dropzone-label>
                                    {{f.name }} {{f.type}}
                                </ngx-dropzone-label>

                            </ngx-dropzone-image-preview>

                        </div>

                        <!--=====================================
                        Banner por defecto del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Banner por defecto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="productDefaultBanner">

                                    <img *ngIf="!editProductAction" src="{{productModel.default_banner}}"
                                        class="img-fluid changeDefaultBanner" style="width:500px">

                                    <img *ngIf="editProductAction"
                                        src="{{path}}img/products/categorias/{{productModel.categoria}}/default/{{productModel.default_banner}}"
                                        class="img-fluid changeDefaultBanner" style="width:500px">

                                </label>

                                <div class="custom-file">

                                    <input *ngIf="!editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productDefaultBanner" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event,'changeDefaultBanner')" required>

                                    <input *ngIf="editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productDefaultBanner" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event,'changeDefaultBanner')">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="productDefaultBanner">Seleccionar
                                        archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Slide Horizontal del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Slider horizontal<sup class="text-danger">*</sup>, Ex:</label>

                            <figure class="pb-5">

                                <img src="{{path}}img/products/default/example-horizontal-slider.png" class="img-fluid">

                            </figure>

                            <div class="row mb-3">

                                <!--=====================================
                                H4 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H4 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Limit Edition"
                                        name="hSliderH4Tag" [(ngModel)]="hSlider['H4 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH4Tag)" #hSliderH4Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-1 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-1 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Happy Summer"
                                        name="hSliderH3_1Tag" [(ngModel)]="hSlider['H3-1 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_1Tag)" #hSliderH3_1Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-2 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-2 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct"
                                        placeholder="Ex: Combo Super Cool" name="hSliderH3_2Tag"
                                        [(ngModel)]="hSlider['H3-2 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_2Tag)" #hSliderH3_2Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-3 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-3 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Up to"
                                        name="hSliderH3_3Tag" [(ngModel)]="hSlider['H3-3 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_3Tag)" #hSliderH3_3Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-4s Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-4s Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: 40%"
                                        name="hSliderH3_4sTag" [(ngModel)]="hSlider['H3-4s tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_4sTag)" #hSliderH3_4sTag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>


                                <!--=====================================
                                Button Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Button Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Shop now"
                                        name="hSliderButtonTag" [(ngModel)]="hSlider['Button tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderButtonTag)" #hSliderButtonTag
                                        tags="tags" required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                IMG Tag
                                ======================================-->

                                <div class="form-group">

                                    <label>IMG Tag:</label>

                                    <div class="form-group__content">

                                        <label class="pb-3" for="hSlider">

                                            <img *ngIf="!editProductAction" src="{{hSlider['IMG tag']}}"
                                                class="img-fluid changeHSlider">

                                            <img *ngIf="editProductAction"
                                                src="{{path}}img/products/categorias/{{productModel.categoria}}/horizontal/{{hSlider['IMG tag']}}"
                                                class="img-fluid changeHSlider">

                                        </label>

                                        <div class="custom-file">

                                            <input *ngIf="!editProductAction" type="file"
                                                class="custom-file-input formProduct" id="hSlider" accept="image/*"
                                                maxSize="2000000" (change)="validateImage($event,'changeHSlider')"
                                                required>

                                            <input *ngIf="editProductAction" type="file"
                                                class="custom-file-input formProduct" id="hSlider" accept="image/*"
                                                maxSize="2000000" (change)="validateImage($event,'changeHSlider')">

                                            <div class="valid-feedback">Valido</div>
                                            <div class="invalid-feedback">Por favor rellene este campo</div>

                                            <label class="custom-file-label" for="hSlider">Seleccionar archivo</label>

                                        </div>

                                    </div>

                                </div>

                            </div>


                        </div>


                        <!--=====================================
                        Precio de venta, precio de envío, dias de entrega y stock
                        ======================================-->

                        <div class="form-group">

                            <div class="row mb-3">

                                <!--=====================================
                                Precio de venta
                                ======================================-->

                                <div class="col-12 col-lg-3">

                                    <label>Precio del producto<sup class="text-danger">*</sup></label>

                                    <div class="form-group__content input-group mx-0 pr-0">

                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Precio $:
                                            </span>
                                        </div>

                                        <input type="number" class="form-control formProduct" name="price"
                                            [(ngModel)]="productModel.precio" min="0" step="any"
                                            pattern="[.\\,\\0-9]{1,}" (change)="validate(price)" #price tags="prices"
                                            required>

                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>

                                    </div>

                                </div>

                                <!--=====================================
                                Precio de envío
                                ======================================-->

                                <!-- <div class="col-12 col-lg-3">
                                    <label>Product Shipping<sup class="text-danger">*</sup></label>
                                    <div class="form-group__content input-group mx-0 pr-0">
                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Shipping $:
                                            </span>
                                        </div>
                                        <input type="number" class="form-control formProduct" name="shipping"
                                            [(ngModel)]="productModel.shipping" min="0" step="any"
                                            pattern="[.\\,\\0-9]{1,}" (change)="validate(shipping)" #shipping
                                            tags="prices" required>
                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>
                                    </div>
                                </div> -->

                                <!--=====================================
                                Días de entrega
                                ======================================-->
<!-- 
                                <div class="col-12 col-lg-3">
                                    <label>Tiempo de entrega<sup class="text-danger">*</sup></label>
                                    <div class="form-group__content input-group mx-0 pr-0">
                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Días:
                                            </span>
                                        </div>
                                        <input type="number" class="form-control formProduct" name="delivery_time"
                                            [(ngModel)]="productModel.tiempo_entrega" min="0" pattern="[0-9]{1,}"
                                            (change)="validate(delivery_time)" #delivery_time tags="intNumber" required>
                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>
                                    </div>
                                </div> -->

                                <!--=====================================
                                Stock
                                ======================================-->

                                <div class="col-12 col-lg-3">

                                    <label>Stock<sup class="text-danger">*</sup> (Max:100)</label>

                                    <div class="form-group__content input-group mx-0 pr-0">

                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Stock:
                                            </span>
                                        </div>

                                        <input type="number" class="form-control formProduct" name="stock"
                                            [(ngModel)]="productModel.stock" min="0" max="100" pattern="[0-9]{1,}"
                                            (change)="validate(stock)" #stock tags="intNumber" required>

                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Oferta del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Oferta Ex: <strong>Tipo:</strong> Descuento, <strong>Porcentaje %:</strong> 25,
                                <strong>fin de la oferta:</strong> 30/06/2021</label>

                            <div class="row mb-3">

                                <!--=====================================
                                Tipo de Oferta
                                ======================================-->

                                <div class="col-12 col-lg-3 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Tipo:
                                        </span>
                                    </div>

                                    <select name="text" class="form-control" name="type_offer" [(ngModel)]="offer[0]">

                                        <option value="Descuento">Descuento</option>
                                        <option value="Fijo">Fijo</option>

                                    </select>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                El valor de la oferta
                                ======================================-->

                                <div class="col-12 col-lg-3 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span *ngIf="offer[0]=='Descuento'" class="input-group-text">
                                            Porcentaje %:
                                        </span>

                                        <span *ngIf="offer[0]=='Fijo'" class="input-group-text">
                                            Precio $:
                                        </span>
                                    </div>

                                    <input type="number" class="form-control" name="value_offer" [(ngModel)]="offer[1]"
                                        min="0" step="any" pattern="[.\\,\\0-9]{1,}" (change)="validate(value_offer)"
                                        #value_offer tags="prices">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                Fecha de vencimiento de la oferta
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Fecha de vencimiento de la oferta:
                                        </span>
                                    </div>

                                    <input type="date" class="form-control" name="date_offer" [(ngModel)]="offer[2]">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">

                        <div class="form-group submtit">

                            <button class="ps-btn ps-btn--fullwidth">Guardar</button>

                        </div>

                    </div>

                </form>

            </div>

        </div>

    </div>

    <div class="modal" id="editProduct">

        <div class="modal-dialog modal-lg">

            <div class="modal-content">

                <form (ngSubmit)="onSubmitProduct(p)" #p="ngForm">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title text-center">Formulario de producto</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal body -->
                    <div class="modal-body p-5 text-left">

                        <!--=====================================
                        Nombre del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Nombre<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="text" class="form-control formProduct" name="productName"
                                    pattern="[A-Za-z0-9ñÑáéíóúÁÉÍÓÚ ]{1,}" [(ngModel)]="productModel.nombre"
                                    (change)="validate(productName)" #productName required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Url del producto
                        ======================================-->

                        <div class="form-group">

                            <label>URL del producto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input type="text" class="form-control formProduct" name="productUrl"
                                    [(ngModel)]="productModel.url" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Categoría del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Categoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <select *ngIf="!editProductAction" class="form-control formProduct"
                                    name="productCategory" [(ngModel)]="productModel.categoria"
                                    (change)="changeCategory(inputCategory)" #inputCategory required>

                                    <option *ngFor="let category of categories"
                                        [value]="category.nombre+'_'+category.url">{{category.nombre}}</option>

                                </select>

                                <input *ngIf="editProductAction" type="text" class="form-control formProduct"
                                    name="productCategory" [(ngModel)]="productModel.categoria" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        SubCategoría del producto
                        ======================================-->

                        <div *ngIf="subcategories.length > 0 && !editProductAction" class="form-group">

                            <label>Subcategoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <select class="form-control formProduct" name="productSubCategory"
                                    [(ngModel)]="productModel.subcategoria" required>

                                    <option *ngFor="let subcategory of subcategories"
                                        [value]="subcategory.url+'_'+subcategory.grupo">{{subcategory.nombre}}
                                    </option>

                                </select>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <div *ngIf="editProductAction" class="form-group">

                            <label>Subcategoría<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <input *ngIf="editProductAction" type="text" class="form-control formProduct"
                                    name="productSubCategory" [(ngModel)]="productModel.subcategoria" readonly required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Descripción del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Descripción<sup class="text-danger">*</sup></label>

                            <textarea class="formProduct" name="productDescription"
                                [(ngModel)]="productModel.descripcion" [ngxSummernote]="config" required></textarea>

                            <div class="valid-feedback">Valido</div>
                            <div class="invalid-feedback">Por favor rellene este campo</div>

                        </div>

                        <!--=====================================
                        Resumen del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Resumen<sup class="text-danger">*</sup> Ex: La mejor fruta saludable para su
                                organismo</label>

                            <div *ngFor="let inputSummary of summaryGroup; let i = index"
                                class="form-group__content input-group mb-3">

                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <button type="button" class="btn btn-danger"
                                            (click)="removeInput(i,'summary')">&times;</button>
                                    </span>
                                </div>

                                <input class="form-control formProduct" type="text" name="input_{{i}}"
                                    [(ngModel)]="inputSummary.input" required>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                            <button type="button" class="btn btn-primary mb-2" (click)="addInput('summary')">Añadir
                                resumen</button>

                        </div>

                        <!--=====================================
                        Palabras claves del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Etiquetas<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <tag-input class="form-control formProduct" type="text" name="productTags"
                                    [(ngModel)]="tags" [maxItems]='5'></tag-input>

                                <div class="valid-feedback">Valido</div>
                                <div class="invalid-feedback">Por favor rellene este campo</div>

                            </div>

                        </div>

                        <!--=====================================
                        Imagen del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Imagen del producto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="productImage">

                                    <img *ngIf="!editProductAction" src="{{productModel.imagen}}"
                                        class="img-fluid changeImage">

                                    <img *ngIf="editProductAction"
                                        src="{{path}}img/products/categorias/{{productModel.categoria}}/{{productModel.imagen}}"
                                        class="img-fluid changeImage">

                                </label>

                                <div class="custom-file">

                                    <input *ngIf="!editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productImage" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event, 'changeImage')" required>

                                    <input *ngIf="editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productImage" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event, 'changeImage')">


                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="productImage">Seleccionar archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Galería del Producto
                        ======================================-->

                        <label>Galería<sup class="text-danger">*</sup></label>

                        <!--=====================================
                        Edición de la Galería del Producto
                        ======================================-->

                        <div *ngIf="editProductAction" class="row">

                            <figure *ngFor="let pic of editGallery" class="col-2 text-center pb-3">

                                <img src="{{path}}/img/products/categorias/{{productModel.categoria}}/gallery/{{pic}}">

                                <button type="button" (click)="removeGallery(pic)"
                                    class="btn btn-danger btn-sm removeGallery">Eliminar</button>

                            </figure>
                        </div>

                        <div class="custom-dropzone mb-5" ngx-dropzone [accept]="'image/*'" (change)="onSelect($event)">

                            <ngx-dropzone-label>

                                <div>
                                    <h2 class="text-muted">Suelta tus archivos aquí, tamaño 1000px * 1000px</h2>
                                </div>

                            </ngx-dropzone-label>

                            <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of gallery"
                                [file]="f" [removable]="true" (removed)="onRemove(f)">

                                <ngx-dropzone-label>
                                    {{f.name }} {{f.type}}
                                </ngx-dropzone-label>

                            </ngx-dropzone-image-preview>

                        </div>

                        <!--=====================================
                        Banner por defecto del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Banner por defecto<sup class="text-danger">*</sup></label>

                            <div class="form-group__content">

                                <label class="pb-5" for="productDefaultBanner">

                                    <img *ngIf="!editProductAction" src="{{productModel.default_banner}}"
                                        class="img-fluid changeDefaultBanner" style="width:500px">

                                    <img *ngIf="editProductAction"
                                        src="{{path}}img/products/categorias/{{productModel.categoria}}/default/{{productModel.default_banner}}"
                                        class="img-fluid changeDefaultBanner" style="width:500px">

                                </label>

                                <div class="custom-file">

                                    <input *ngIf="!editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productDefaultBanner" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event,'changeDefaultBanner')" required>

                                    <input *ngIf="editProductAction" type="file" class="custom-file-input formProduct"
                                        id="productDefaultBanner" accept="image/*" maxSize="2000000"
                                        (change)="validateImage($event,'changeDefaultBanner')">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                    <label class="custom-file-label" for="productDefaultBanner">Seleccionar
                                        archivo</label>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Slide Horizontal del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Slider horizontal<sup class="text-danger">*</sup>, Ex:</label>

                            <figure class="pb-5">

                                <img src="{{path}}img/products/default/example-horizontal-slider.png" class="img-fluid">

                            </figure>

                            <div class="row mb-3">

                                <!--=====================================
                                H4 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H4 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Limit Edition"
                                        name="hSliderH4Tag" [(ngModel)]="hSlider['H4 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH4Tag)" #hSliderH4Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-1 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-1 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Happy Summer"
                                        name="hSliderH3_1Tag" [(ngModel)]="hSlider['H3-1 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_1Tag)" #hSliderH3_1Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-2 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-2 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct"
                                        placeholder="Ex: Combo Super Cool" name="hSliderH3_2Tag"
                                        [(ngModel)]="hSlider['H3-2 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_2Tag)" #hSliderH3_2Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-3 Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-3 Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Up to"
                                        name="hSliderH3_3Tag" [(ngModel)]="hSlider['H3-3 tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_3Tag)" #hSliderH3_3Tag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                H3-4s Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            H3-4s Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: 40%"
                                        name="hSliderH3_4sTag" [(ngModel)]="hSlider['H3-4s tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderH3_4sTag)" #hSliderH3_4sTag tags="tags"
                                        required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>


                                <!--=====================================
                                Button Tag
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0 mb-3">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Button Tag:
                                        </span>
                                    </div>

                                    <input type="text" class="form-control formProduct" placeholder="Ex: Shop now"
                                        name="hSliderButtonTag" [(ngModel)]="hSlider['Button tag']"
                                        pattern="[-\\(\\)\\=\\%\\&\\$\\;\\_\\*\\'\\#\\?\\¿\\!\\¡\\:\\,\\.\\0-9a-zA-ZñÑáéíóúÁÉÍÓÚ ]{1,50}"
                                        maxlength="50" (change)="validate(hSliderButtonTag)" #hSliderButtonTag
                                        tags="tags" required>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                IMG Tag
                                ======================================-->

                                <div class="form-group">

                                    <label>IMG Tag:</label>

                                    <div class="form-group__content">

                                        <label class="pb-3" for="hSlider">

                                            <img *ngIf="!editProductAction" src="{{hSlider['IMG tag']}}"
                                                class="img-fluid changeHSlider">

                                            <img *ngIf="editProductAction"
                                                src="{{path}}img/products/categorias/{{productModel.categoria}}/horizontal/{{hSlider['IMG tag']}}"
                                                class="img-fluid changeHSlider">

                                        </label>

                                        <div class="custom-file">

                                            <input *ngIf="!editProductAction" type="file"
                                                class="custom-file-input formProduct" id="hSlider" accept="image/*"
                                                maxSize="2000000" (change)="validateImage($event,'changeHSlider')"
                                                required>

                                            <input *ngIf="editProductAction" type="file"
                                                class="custom-file-input formProduct" id="hSlider" accept="image/*"
                                                maxSize="2000000" (change)="validateImage($event,'changeHSlider')">

                                            <div class="valid-feedback">Valido</div>
                                            <div class="invalid-feedback">Por favor rellene este campo</div>

                                            <label class="custom-file-label" for="hSlider">Seleccionar archivo</label>

                                        </div>

                                    </div>

                                </div>

                            </div>


                        </div>


                        <!--=====================================
                        Precio de venta, precio de envío, dias de entrega y stock
                        ======================================-->

                        <div class="form-group">

                            <div class="row mb-3">

                                <!--=====================================
                                Precio de venta
                                ======================================-->

                                <div class="col-12 col-lg-3">

                                    <label>Precio del producto<sup class="text-danger">*</sup></label>

                                    <div class="form-group__content input-group mx-0 pr-0">

                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Precio $:
                                            </span>
                                        </div>

                                        <input type="number" class="form-control formProduct" name="price"
                                            [(ngModel)]="productModel.precio" min="0" step="any"
                                            pattern="[.\\,\\0-9]{1,}" (change)="validate(price)" #price tags="prices"
                                            required>

                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>

                                    </div>

                                </div>

                                <!--=====================================
                                Precio de envío
                                ======================================-->

                                <!-- <div class="col-12 col-lg-3">
                                    <label>Product Shipping<sup class="text-danger">*</sup></label>
                                    <div class="form-group__content input-group mx-0 pr-0">
                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Shipping $:
                                            </span>
                                        </div>
                                        <input type="number" class="form-control formProduct" name="shipping"
                                            [(ngModel)]="productModel.shipping" min="0" step="any"
                                            pattern="[.\\,\\0-9]{1,}" (change)="validate(shipping)" #shipping
                                            tags="prices" required>
                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>
                                    </div>
                                </div> -->

                                <!--=====================================
                                Días de entrega
                                ======================================-->

                                <div class="col-12 col-lg-3">

                                    <label>Tiempo de entrega<sup class="text-danger">*</sup></label>

                                    <div class="form-group__content input-group mx-0 pr-0">

                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Días:
                                            </span>
                                        </div>

                                        <input type="number" class="form-control formProduct" name="delivery_time"
                                            [(ngModel)]="productModel.tiempo_entrega" min="0" pattern="[0-9]{1,}"
                                            (change)="validate(delivery_time)" #delivery_time tags="intNumber" required>

                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>

                                    </div>

                                </div>

                                <!--=====================================
                                Stock
                                ======================================-->

                                <div class="col-12 col-lg-3">

                                    <label>Stock<sup class="text-danger">*</sup> (Max:100)</label>

                                    <div class="form-group__content input-group mx-0 pr-0">

                                        <div class="input-group-append">
                                            <span class="input-group-text">
                                                Stock:
                                            </span>
                                        </div>

                                        <input type="number" class="form-control formProduct" name="stock"
                                            [(ngModel)]="productModel.stock" min="0" max="100" pattern="[0-9]{1,}"
                                            (change)="validate(stock)" #stock tags="intNumber" required>

                                        <div class="valid-feedback">Valido</div>
                                        <div class="invalid-feedback">Por favor rellene este campo</div>

                                    </div>

                                </div>

                            </div>

                        </div>

                        <!--=====================================
                        Oferta del producto
                        ======================================-->

                        <div class="form-group">

                            <label>Oferta Ex: <strong>Tipo:</strong> Descuento, <strong>Porcentaje %:</strong> 25,
                                <strong>fin de la oferta:</strong> 30/06/2021</label>

                            <div class="row mb-3">

                                <!--=====================================
                                Tipo de Oferta
                                ======================================-->

                                <div class="col-12 col-lg-3 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Tipo:
                                        </span>
                                    </div>

                                    <select name="text" class="form-control" name="type_offer" [(ngModel)]="offer[0]">

                                        <option value="Descuento">Descuento</option>
                                        <option value="Fijo">Fijo</option>

                                    </select>

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                El valor de la oferta
                                ======================================-->

                                <div class="col-12 col-lg-3 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span *ngIf="offer[0]=='Descuento'" class="input-group-text">
                                            Porcentaje %:
                                        </span>

                                        <span *ngIf="offer[0]=='Fijo'" class="input-group-text">
                                            Precio $:
                                        </span>
                                    </div>

                                    <input type="number" class="form-control" name="value_offer" [(ngModel)]="offer[1]"
                                        min="0" step="any" pattern="[.\\,\\0-9]{1,}" (change)="validate(value_offer)"
                                        #value_offer tags="prices">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                                <!--=====================================
                                Fecha de vencimiento de la oferta
                                ======================================-->

                                <div class="col-12 col-lg-6 form-group__content input-group mx-0 pr-0">

                                    <div class="input-group-append">
                                        <span class="input-group-text">
                                            Fecha de vencimiento de la oferta:
                                        </span>
                                    </div>

                                    <input type="date" class="form-control" name="date_offer" [(ngModel)]="offer[2]">

                                    <div class="valid-feedback">Valido</div>
                                    <div class="invalid-feedback">Por favor rellene este campo</div>

                                </div>

                            </div>

                        </div>

                    </div>

                    <!-- Modal footer -->
                    <div class="modal-footer">

                        <div class="form-group submtit">

                            <button class="ps-btn ps-btn--fullwidth">Guardar</button>

                        </div>

                    </div>

                </form>

            </div>

        </div>

    </div>




</div>

 

